## SSL (Secure Sockets Layer)

Standard technology for keeping an internet connection secure, safeguarding sensitive data that is being sent via packets between two systems, and preventing attackers from reading and modifying data that is transferred. Data exchange applies between client to client, client to server, and server to server. Browsers will only trust SSL certificates issued by authorized issuers (Certificate Authorities) such as DigiCert. For organizations that want to offer services encrypted by TLS, they have to prove to CAs of their legitimacy and that they control the domain.

### SSL Certificate

SSL certificates includes the following information in a single data file:

- Domain name that the certificate was issued for
- Which person, organization or device it was issued to
- Which certificate authority issued it
- Associated subdomains
- Issue date of certificate
- Expiration date of certificate
- Public key (private key is kept secret in the server)

The certificate is hosted on a website's origin server, and is sent to any devices that request to load the website. The public and private keys are used for encrypting and signing data. Data encrypted with the public key can only be decrypted with the private key.

### SSL Encryption

Encryption uses asymmetrical cryptography which requires public and private keys. Both keys are related to each other by complex mathematical formula that is difficult to reverse-engineer by brute force.

### How SSL Certificates Work

1. A browser/server attempts to connect to a website secured with SSL
2. Browser/server requests that the web server identifies itself
3. Web server sends the browser/server a copy of its SSL certificate
4. Browser/server checks to see whether it trusts the SSL certificate and signals to the web server
5. Web server then returns a digitally signed acknowledgement to start an SSL encrypted session
6. Encrypted data is shared between the browser/server and the web server during the session

## TLS (Transport Layer Security)

An updated, more secure version of SSL (SSL successor). Asymmetrical cryptography requires significant computing resources; encrypting all information would be expensive. TLS gets around this by using it at beginning of communications session whereby the server and client agrees on single session key that will be used to encrypt packets from that point forward. Session/shared key is established using asymmetrical cryptography, and data is encrypted with shared key which uses symmetrical cryptography and is much less computationally intensive. Session keys are only used once.

### TLS Handshake

A TLS handshake occurs whenever a user navigates to a website over HTTPS. Also happens whenever any other communications use HTTPS, including API calls and DNS over HTTPS queries.

### Actions

During the course of a TLS handshake, the client and server together will perform the following:

- Specify which version of TLS (1.0, 1.2, 1.3) they will use
- Decide on which cipher suites they will use
- Authenticate the identity of the server via server's public key and the SSL certificate authority's digital signature
- Generate session keys in order to use symmetric encryption after the handshake is complete

### Steps

1. **The 'client hello' message**: Client initiates the handshake by sending a "hello" message to the server. Message includes which TLS version the client supports, the cipher suites supported, and a string of random bytes known as the "client random"
2. **The 'server hello' message**: Server sends a message containing the server's SSL certificate, the server's chosen cipher suite, and the "server's random", another random string of bytes generated by the server
3. **Authentication**: Client verifies the server's SSL certificate with the certificate authority that issued it
4. **The premaster secret**: Client sends one more random string of bytes that is encrypted with the public key and can only be decrypted with the private key by the server (client gets the public key from the server's SSL certificate)
5. **Decryption**: Server decrypts the premaster secret with private key
6. **Session keys generated**: Both client and server generate session keys from the client random, server random, and the premaster secret
7. **Client is ready**: Client sends a "finished" message that is encrypted with a session key
8. **Server is ready**: Server sends a "finished" message encrypted with a session key
9. **Secure symmetric encryption achieved**: The handshake is completed, and subsequent communication uses the session keys

## HTTPS

Hyper Text Transfer Protocol secure. Appears in URL when a website is secured by an SSL/TLS certificate.

## Protocol versions

```
SSL v2      Has serious security vulnerabilities
SSL v3      Has serious security vulnerabilities
TLS 1.0     Does not support modern cipher suites
TLS 1.2     Recommended version
TLS 1.3
```
